{"version": 2, "width": 190, "height": 58, "timestamp": 1664106257, "idle_time_limit": 2.5, "env": {"SHELL": null, "TERM": "xterm"}, "title": "Kubernetes Service (ClusterIP) Demo"}
[0.085789, "o", "$ "]
[2.504663, "o", "./demo_ClusterIP.sh"]
[3.389683, "o", "\r\n"]
[4.228035, "o", "./demo_ClusterIP.sh: line 30: /home/tanzu/.tanzu-demo-hub.cfg: Permission denied\r\n"]
[4.265388, "o", "\u001b[H\u001b[2J\u001b[3J"]
[4.268823, "o", "\r\n"]
[4.27059, "o", "                  ____                  _            _____                            \r\n                 / ___|  ___ _ ____   _(_) ___ ___  |_   _|   _ _ __   ___            \r\n                 \\___ \\ / _ \\  __\\ \\ / / |/ __/ _ \\   | || | | |  _ \\ / _ \\           \r\n"]
[4.271025, "o", "                  ___) |  __/ |   \\ V /| | (_|  __/   | || |_| | |_) |  __/           \r\n                 |____/ \\___|_|    \\_/ |_|\\___\\___|   |_| \\__  |  __/ \\___|           \r\n                                                          |___/|_|                    \r\n                           ____ _           _           ___ ____                      \r\n"]
[4.273542, "o", "                          / ___| |_   _ ___| |_ ___ _ _|_ _|  _ \\                     \r\n                         | |   | | | | / __| __/ _ \\  __| || |_) |                    \r\n                         | |___| | |_| \\__ \\ ||  __/ |  | ||  __/                     \r\n                          \\____|_|\\____|___/\\__\\___|_| |___|_|                        \r\n                                                                                      \r\n          ----------------------------------------------------------------------------\r\n              Deploy application (my-app) with Service Type ClusterIP                 \r\n                               by Sacha Dubois, VMware Inc                            \r\n          ----------------------------------------------------------------------------\r\n"]
[4.274412, "o", "                                                                                      \r\n"]
[34.774912, "o", " 1.) Create a namespace to host the Demo\r\n"]
[35.021133, "o", "     => \u001b[1mkubectl create namespace my-app-demo\u001b(B\u001b[m"]
[649.20046, "o", "\r\n"]
[649.232774, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[651.622118, "o", "     namespace/my-app-demo created\r\n"]
[651.627305, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[651.628399, "o", "\r\n"]
[665.189706, "o", " 2.) Create deployment for the ClusterIP tesing app\r\n"]
[665.271716, "o", "     => \u001b[1mkubectl create deployment my-app --image=datamanos/echoserver --port=8080 -n my-app-demo\u001b(B\u001b[m"]
[668.204071, "o", "\r\n"]
[668.206263, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[670.123125, "o", "     deployment.apps/my-app created\r\n"]
[670.125901, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[670.126486, "o", "\r\n"]
[670.199653, "o", "     => \u001b[1mkubectl get pods -n my-app-demo\u001b(B\u001b[m"]
[671.12286, "o", "\r\n"]
[671.124169, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[673.260622, "o", "     NAME                      READY   STATUS    RESTARTS   AGE\r\n     my-app-645548fffb-kt4zz   1/1     Running   0          3s\r\n"]
[673.263603, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n"]
[673.26731, "o", " 3.) Create the ClusterIP Service (my-app)\r\n"]
[673.342793, "o", "     => \u001b[1mkubectl expose deployment my-app --port=8080 --type=ClusterIP -n my-app-demo\u001b(B\u001b[m"]
[676.309461, "o", "\r\n"]
[676.311439, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[679.047373, "o", "     service/my-app exposed\r\n"]
[679.050626, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[679.052096, "o", "\r\n"]
[679.123916, "o", "     => \u001b[1mkubectl get svc,pods -n my-app-demo\u001b(B\u001b[m"]
[681.159265, "o", "\r\n"]
[681.1598, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[683.75742, "o", "     NAME             TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE\r\n"]
[683.758123, "o", "     service/my-app   ClusterIP   10.96.32.225   <none>        8080/TCP   4s\r\n     \r\n     NAME                          READY   STATUS    RESTARTS   AGE\r\n     pod/my-app-645548fffb-kt4zz   1/1     Running   0          14s\r\n"]
[683.761237, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[683.761567, "o", "\r\n"]
[683.762697, "o", " 4.) Start a Proxy to the Kubernetes API on local Port 8080\r\n"]
[683.764112, "o", "     => kubectl proxy --port=8080 &\r\n"]
[688.799004, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[688.799212, "o", "     Starting to serve on 127.0.0.1:8080\r\n"]
[688.799321, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[688.805906, "o", "\r\n"]
[688.807016, "o", " 5.) Acess the Kubernetes ClusterIP Service (my-app)\r\n"]
[688.880703, "o", "     => \u001b[1mcurl -s http://localhost:8080/api/v1/namespaces/my-app-demo/services/my-app/proxy/\u001b(B\u001b[m"]
[693.279059, "o", "\r\n"]
[693.279298, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n"]
[694.802403, "o", "     \r\n"]
[694.802598, "o", "     \r\n     Hostname: my-app-645548fffb-kt4zz\r\n     \r\n     Pod Information:\r\n     \t-no pod information available-\r\n     \r\n     Server values:\r\n"]
[694.805898, "o", "     \tserver_version=nginx: 1.13.3 - lua: 10008\r\n     \r\n     Request Information:\r\n     \tclient_address=172.20.0.1\r\n     \tmethod=GET\r\n     \treal path=/\r\n     \tquery=\r\n     \trequest_version=1.1\r\n     \trequest_uri=http://10.220.25.132:8080/\r\n     \r\n     Request Headers:\r\n     \taccept=*/*\r\n     \taccept-encoding=gzip\r\n     \thost=10.220.25.132:6443\r\n     \tuser-agent=curl/7.68.0\r\n     \tx-forwarded-for=127.0.0.1, 10.220.25.133\r\n     \tx-forwarded-uri=/api/v1/namespaces/my-app-demo/services/my-app/proxy/\r\n     \r\n     Request Body:\r\n     \t-no body in request-\r\n"]
[694.80792, "o", "     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n     -----------------------------------------------------------------------------------------------------------\r\n                                             * --- END OF THE DEMO --- *\r\n                                                THANKS FOR ATTENDING\r\n     -----------------------------------------------------------------------------------------------------------\r\n"]
[694.856139, "o", "$ "]
[697.942158, "o", "\r\n"]
